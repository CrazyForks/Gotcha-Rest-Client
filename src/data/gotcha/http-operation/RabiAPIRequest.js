/**
 * @IndexedDB
 */
import GHCComponent
    from '@/data/gotcha/GHCComponent'
import RabiHttpOperationStatus
    from '@/data/gotcha/http-operation/RabiHttpOperationStatus'
import GHCHttpRequest
    from '@/data/gotcha/http-operation/GHCHttpRequest'

class RabiAPIRequest extends GHCComponent {
    constructor() {
        super()

        /*
         id Auto generated by IndexedDB
         */

        /**
         * Query all requests by projectId
         *
         * @type {number}
         */
        this.projectId = -1

        /**
         * Query all requests by versionId
         *
         * @type {number}
         */
        this.versionId = -1

        this.name = ""

        this.description = ""

        /**
         * Last request status, success or failed
         *
         * NONE | SUCCESS | FAILED | PENDING
         *
         * @type {string}
         */
        this.status = RabiHttpOperationStatus.NONE

        this.statusCode = undefined

        this.requestMethod = "GET"

        this.requestPath = "/"

        /**
         * Request data
         *
         * @type {GHCHttpRequest}
         */
        this.httpRequest = new GHCHttpRequest()

        /**
         * Response data, undefined if no request has been send.
         *
         * @type {RabiHttpResponse}
         */
        this.httpResponse = undefined

        /**
         * @type {RabiHttpError}
         */
        this.httpError = undefined

        /**
         *
         * TODO v1.4.x View History Request
         *
         * Request history, max 10
         *
         * @type {RabiHttpOperationHistory[]}
         */
        this.histories = []

        this.createdAt = new Date()

        this.updatedAt = new Date()
    }
}

export default RabiAPIRequest
